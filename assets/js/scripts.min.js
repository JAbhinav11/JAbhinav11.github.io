"use strict";const elementToggleFunc=function(e){e.classList.toggle("active")};"scrollRestoration"in history&&(history.scrollRestoration="manual");const sidebar=document.querySelector("[data-sidebar]"),sidebarBtn=document.querySelector("[data-sidebar-btn]");sidebarBtn.addEventListener("click",function(){elementToggleFunc(sidebar)});const testimonialsItem=document.querySelectorAll("[data-testimonials-item]"),overlay=document.querySelector("[data-overlay]"),testimonialImg=document.querySelector("[data-testimonials-avatar]"),select=document.querySelector("[data-select]"),selectItems=document.querySelectorAll("[data-select-item]"),selectValue=document.querySelector("[data-selecct-value]"),filterBtn=document.querySelectorAll("[data-filter-btn]");select.addEventListener("click",function(){elementToggleFunc(this)});for(let i=0;i<selectItems.length;i++)selectItems[i].addEventListener("click",function(){let e=this.innerText.toLowerCase();selectValue.innerText=this.innerText,elementToggleFunc(select),filterFunc(e)});const filterItems=document.querySelectorAll("[data-filter-item]"),filterFunc=function(e){for(let t=0;t<filterItems.length;t++)"all"===e?filterItems[t].classList.add("active"):e===filterItems[t].dataset.category?filterItems[t].classList.add("active"):filterItems[t].classList.remove("active")};let lastClickedBtn=filterBtn[0];for(let i=0;i<filterBtn.length;i++)filterBtn[i].addEventListener("click",function(){let e=this.innerText.toLowerCase();selectValue.innerText=this.innerText,filterFunc(e),lastClickedBtn.classList.remove("active"),this.classList.add("active"),lastClickedBtn=this});const dataForm=document.querySelector("[data-form]"),formInputs=document.querySelectorAll("[data-form-input]"),formBtn=document.querySelector("[data-form-btn]"),emailInput=dataForm.querySelector('input[type="email"]');function validateForm(){let e=Array.from(formInputs).every(e=>""!==e.value.trim()),t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value);e&&t?formBtn.removeAttribute("disabled"):formBtn.setAttribute("disabled","")}formInputs.forEach(e=>{e.addEventListener("input",validateForm)}),validateForm();const form=document.getElementById("contact-form"),button=form.querySelector("button");form.addEventListener("submit",function(e){e.preventDefault(),button.disabled=!0,button.querySelector("span").textContent="Sending . . .",grecaptcha.ready(function(){grecaptcha.execute("6LfdbHArAAAAAPeDLaw6tVOunsir0DJs14gteGKi",{action:"submit"}).then(async function(e){let t=new FormData(form),a=/Mobile|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);t.append("deviceType",a?"Mobile":"Desktop"),t.append("g-recaptcha-response",e);try{let n=await fetch("https://script.google.com/macros/s/AKfycbzY44QUQgMtOanfoBLAMjiqxFJm8rqBdFseUkwOpR_nItUX5LQ0j9mcx4L_pZgo33o2/exec",{method:"POST",body:t});n.ok?(alert("Thank you! Your message has been sent."),form.reset(),validateForm()):alert("Error: Could not send form.")}catch(s){console.error("Submission error:",s),alert("Something went wrong.")}finally{button.disabled=!1,button.querySelector("span").textContent="Send Message"}})})});const navigationLinks=document.querySelectorAll("[data-nav-link]"),pages=document.querySelectorAll("[data-page]");for(let i=0;i<navigationLinks.length;i++)navigationLinks[i].addEventListener("click",function(){for(let e=0;e<pages.length;e++)this.innerHTML.toLowerCase()===pages[e].dataset.page?(pages[e].classList.add("active"),navigationLinks[e].classList.add("active"),window.scrollTo(0,0)):(pages[e].classList.remove("active"),navigationLinks[e].classList.remove("active"))});const startYear=2018,currentYear=new Date().getFullYear(),experienceYears=currentYear-2018;document.getElementById("experience-years").textContent=`+${experienceYears}`;const popup=document.getElementById("popup"),popupImg=popup.querySelector("img");function hidePopup(){popup.classList.remove("show"),setTimeout(()=>{popupImg.removeAttribute("src")},500)}async function loadResumeData(){let[e,t,a]=await Promise.all([fetch("/assets/files/json/experience.json"),fetch("/assets/files/json/skills.json"),fetch("/assets/files/json/education.json")]),n=await e.json(),s=await t.json(),l=await a.json();renderExperience(n),renderSkills(s),renderEducation(l)}function renderExperience(e){let t=document.querySelector(".experience-list");t.innerHTML="",e.forEach(e=>{let a=document.createElement("li");a.className="timeline-item";let n=Array.isArray(e.points)?e.points.map(e=>`<li>${e}</li>`).join(""):"";a.innerHTML=`
      <h4 class="h4 timeline-item-title">
        ${e.title}
        <p class="timeline-text">${e.company}</p>
      </h4>
      <span>${e.duration}</span>
      <ul class="timeline-text">
        ${n}
      </ul>
    `,t.appendChild(a)})}function renderEducation(e){let t=document.querySelector(".education-list");t.innerHTML="",e.forEach(e=>{let a=document.createElement("li");a.className="timeline-item",a.innerHTML=`
      <h4 class="h4 timeline-item-title">
        ${e.degree}
        <p class="timeline-text">${e.institution}</p>
      </h4>
      <span>${e.duration}</span>
      <p class="timeline-text">${e.description}</p>
    `,t.appendChild(a)})}function renderSkills(e){let t=document.querySelector(".skills-list");t.innerHTML="",e.forEach(e=>{let a=document.createElement("li");a.className="skills-item",a.innerHTML=`
      <div class="title-wrapper">
        <h5 class="h5">${e.name}</h5>
        <data value="${e.value}">${e.value}%</data>
      </div>
      <div class="skill-progress-bg">
        <div class="skill-progress-fill" style="width: ${e.value}%"></div>
      </div>
    `,t.appendChild(a)})}function applyCardTiltEffect(){document.querySelectorAll(".card-wrap").forEach(e=>{let t=e.querySelector(".card"),a=e.querySelector(".card-bg");e.addEventListener("mousemove",n=>{let s=e.getBoundingClientRect(),l=n.clientX-s.left,r=n.clientY-s.top,o=s.width/2,c=s.height/2;t.style.transform=`rotateX(${-((r-c)/c*15)}deg) rotateY(${(l-o)/o*15}deg)`,a.style.transform=`translate(${-((l-o)/o*15)}px, ${-((r-c)/c*15)}px) scale(1.1)`}),e.addEventListener("mouseleave",()=>{t.style.transform="rotateX(0deg) rotateY(0deg)",a.style.transform="translate(0, 0)"})})}document.addEventListener("click",function(e){let t=e.target;if(t.matches("[data-popup-image]")){let a=t.currentSrc;popupImg.setAttribute("src",a),popup.classList.add("show")}}),document.addEventListener("DOMContentLoaded",function(){window.scrollTo(0,0),loadResumeData()}),fetch("/assets/files/json/cards.json").then(e=>e.json()).then(e=>{let t=document.getElementById("cardContainer");e.forEach(e=>{let a=`
          <div class="card-wrap">
            <div class="card">
              <div class="card-bg" style="background-image: url('${e.image}');"></div>
              <div class="card-info">
                <h2>${e.title}</h2>
                <p>${e.text}</p>
              </div>
            </div>
          </div>
        `;t.insertAdjacentHTML("beforeend",a)}),applyCardTiltEffect()});